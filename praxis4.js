(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function i(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(r){if(r.ep)return;r.ep=!0;const a=i(r);fetch(r.href,a)}})();function L(){let e=document.querySelectorAll(".page-wrapper")[0];e.querySelector("[data-accordion-css-init]")&&e.querySelectorAll("[data-accordion-css-init]").forEach(i=>{const t=i.getAttribute("data-accordion-close-siblings")==="true";i.addEventListener("click",r=>{const a=r.target.closest("[data-accordion-toggle]");if(!a)return;const n=a.closest("[data-accordion-status]");if(!n)return;const u=n.getAttribute("data-accordion-status")==="active";n.setAttribute("data-accordion-status",u?"not-active":"active"),t&&!u&&i.querySelectorAll('[data-accordion-status="active"]').forEach(c=>{c!==n&&c.setAttribute("data-accordion-status","not-active")}),setTimeout(()=>{v.forEach(c=>c.refresh())},601)})})}function A(){let e=document.querySelectorAll(".page-wrapper")[0];window.lenis=new Lenis({wrapper:e,content:e.children[0]}),window.lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(i=>{lenis.raf(i*1e3)}),gsap.ticker.lagSmoothing(0)}let v=[];function P(){let e=document.querySelectorAll(".page-wrapper")[0];if(!e.querySelector(".section.is--team"))return;e.querySelectorAll(".button-main .button-span-name").forEach(t=>{const r=t.textContent.split(" ");r.length>1&&(r.splice(1,1),t.textContent=r.join(" "))}),gsap.matchMedia().add("(min-width: 768px)",()=>{gsap.set(".section.is--team",{paddingBottom:"57vh"}),gsap.utils.toArray(".team-image-wrapper").forEach((t,r,a)=>{gsap.set(t,{zIndex:a.length-r,position:"absolute",top:0,right:0});const n=ScrollTrigger.create({trigger:".section.is--team",start:"top top",end:"bottom bottom",pin:t});v.push(n)}),e.querySelectorAll(".team-text-wrapper").forEach((t,r,a)=>{if(r<a.length-1){const n=gsap.to(t.parentElement.querySelector(".team-image-wrapper"),{clipPath:"inset(0 0 0 100%)",ease:"none",scrollTrigger:{trigger:t,start:"70% top",end:"bottom top",scrub:1}});v.push(n.scrollTrigger)}})}),e.querySelectorAll(".rich-text-ausbildung p").forEach(t=>{const a=t.innerHTML.split("&gt;");if(a.length===2){const n=a[0].trim(),u=a[1].trim();t.innerHTML=`
            <span class="edu-year">${n}</span>
            <span class="edu-title">${u}</span>
          `}})}function k(){let e=document.querySelectorAll(".page-wrapper")[0];e.querySelector("[data-marquee-scroll-direction-target]")&&e.querySelectorAll("[data-marquee-scroll-direction-target]").forEach(i=>{const t=i.querySelector("[data-marquee-collection-target]"),r=i.querySelector("[data-marquee-scroll-target]");if(!t||!r)return;const a=t.querySelectorAll("img"),n=Array.from(a).map(u=>u.complete?Promise.resolve():new Promise(c=>{u.onload=c,u.onerror=c}));Promise.all(n).then(()=>{T(i,t,r)})})}function T(s,e,i){console.log("INITING MARQUEE");const{marqueeSpeed:t,marqueeDirection:r,marqueeDuplicate:a,marqueeScrollSpeed:n}=s.dataset,u=parseFloat(t),c=r==="right"?1:-1,l=parseInt(a||0),o=parseFloat(n),d=window.innerWidth<479?.25:window.innerWidth<991?.5:1;let p=u*(e.offsetWidth/window.innerWidth)*d;if(console.log(p),i.style.marginLeft=`${o*-1}%`,i.style.width=`${o*2+100}%`,l>0){const y=document.createDocumentFragment();for(let g=0;g<l;g++){const q=e.cloneNode(!0);q.querySelectorAll('img[loading="lazy"]').forEach(b=>{b.removeAttribute("loading")}),y.appendChild(q)}i.appendChild(y)}const h=s.querySelectorAll("[data-marquee-collection-target]"),m=gsap.to(h,{xPercent:-100,repeat:-1,duration:p,ease:"linear"}).totalProgress(.5);gsap.set(h,{xPercent:c===1?100:-100}),m.timeScale(c),m.play(),s.setAttribute("data-marquee-status","normal"),ScrollTrigger.create({trigger:s,start:"top bottom",end:"bottom top",onUpdate:y=>{const g=y.direction===1,q=g?-c:c;console.log(g),m.timeScale(q),s.setAttribute("data-marquee-status",g?"normal":"inverted")}});const f=gsap.timeline({scrollTrigger:{trigger:s,start:"0% 100%",end:"100% 0%",scrub:0}}),S=c===-1?o:-o,w=-S;f.fromTo(i,{x:`${S}vw`},{x:`${w}vw`,ease:"none"})}function O(){let e=document.querySelectorAll(".page-wrapper")[0];if(!e.querySelector(".header-nav-link.is--angebote"))return;e.querySelectorAll('a[href*="/#"]').forEach(m=>{const f=m.getAttribute("href"),S=window.location.pathname,w=new URL(f,window.location.origin).pathname;console.log(S,w),w===S&&(m.setAttribute("data-no-swup",""),m.addEventListener("click",y=>{y.preventDefault();const g=f.split("#")[1];console.log(g),g&&setTimeout(()=>{window.lenis.scrollTo(`#${g}`,{duration:3,ease:"easeOutQuad"})},0)}))});const i=e.querySelector(".header-nav-link.is--angebote"),t=e.querySelector(".nav-link-wrapper"),r=e.querySelector(".nav");let a;function n(m){t.style.opacity="1",t.style.pointerEvents="auto",r.classList.add("nav-dropdown-open"),!a&&gsap.fromTo(t.querySelectorAll(".header-nav-link"),{yPercent:-50},{yPercent:0,stagger:.03,ease:"easeOutQuad"})}function u(){t.style.opacity="0",t.style.pointerEvents="none",r.classList.remove("nav-dropdown-open")}i.addEventListener("mouseenter",()=>{n()}),[i,t].forEach(m=>{m.addEventListener("mouseleave",()=>{setTimeout(()=>{a=i.matches(":hover")||t.matches(":hover"),a||u()},50)})});const c=e.querySelector(".menu-button"),l=e.querySelector(".big-nav-wrapper"),o=e.querySelector(".big-nav-wrapper .bg-nav"),d=e.querySelector(".header");e.querySelectorAll(".big-nav-wrapper a").forEach(m=>{m.addEventListener("click",f=>{h()})});function h(){d.classList.toggle("is--open"),l.classList.toggle("is--open"),l.classList.contains("is--open")?window.lenis.destroy():A()}c.addEventListener("click",h),o.addEventListener("click",h),e.addEventListener("keydown",m=>{m.key==="Escape"&&l.classList.contains("is--open")&&h()})}function x(){let s=0;const e=10,i=400;let r=document.querySelectorAll(".page-wrapper")[0];r.addEventListener("scroll",()=>{var n;const a=(n=window==null?void 0:window.lenis)==null?void 0:n.animatedScroll;if(Math.abs(s-a)>=e){const u=a>s?"down":"up";r.setAttribute("data-scrolling-direction",u);const c=a>i;r.setAttribute("data-scrolling-started",c?"true":"false"),s=a}})}function C(){let e=document.querySelectorAll(".page-wrapper")[0];if(!e.querySelector('[data-split="lines"]')&&!e.querySelector('[data-split="rich"]'))return;e.querySelectorAll('[data-split="lines"]').forEach(r=>{new SplitText(r,{type:"lines",mask:"lines",linesClass:"line"})}),e.querySelectorAll('[data-split="rich"]').forEach(r=>{Array.from(r.children).forEach(n=>{new SplitText(n,{type:"lines",mask:"lines",linesClass:"line"})})})}function I(){const i=document.querySelectorAll(".page-wrapper")[0].querySelectorAll(".back-to-top");i.length!=0&&i.forEach(t=>{t.addEventListener("click",()=>{window.lenis.scrollTo(0,{duration:3,ease:"easeOutQuad"})})})}function Q(){let e=document.querySelectorAll(".page-wrapper")[0];if(!e.querySelector(".modal-vertical-container"))return;const i=e.querySelectorAll("[data-modal-vertical-open]");e.querySelector(".modal-vertical-container");const t=e.querySelectorAll("[data-modal-vertical-close]");e.querySelectorAll(".date").forEach(l=>{const o=l.textContent.trim();if(!o)return;const d=new Date(o);if(isNaN(d))return;const p=d.toLocaleDateString("de-CH",{day:"2-digit",month:"long",year:"numeric"});l.textContent=p}),gsap.set(".modal-vertical-content-inner",{clipPath:"inset(100% 0 0 0)"}),gsap.set(".modal-backdrop",{autoAlpha:0}),gsap.set(".modal-close-btn",{yPercent:200,autoAlpha:0,rotate:180});const a=.7,n="easeOutQuart";let u,c;i.forEach(l=>{l.addEventListener("click",()=>{const o=l.closest(".w-dyn-item");if(!o)return;const d=l.getAttribute("data-modal-vertical-open");let p;console.log(d),d=="news"?p=e.querySelector('.modal-vertical-container[data-type="news"]'):p=o.querySelector(".modal-vertical-container"),p&&(p.querySelector(".modal-v-right-wrapper").scrollTop=0,window.lenis.destroy(),c==null||c.kill(),u=gsap.timeline({defaults:{duration:a,ease:n}}).set(p,{autoAlpha:1,pointerEvents:"auto"}).set(p.querySelectorAll(".modal-vertical-content-inner .line"),{yPercent:100}).set(".modal-v-img-c",{autoAlpha:0}).set(p.querySelector(".modal-close-btn"),{rotate:90,autoAlpha:0,yPercent:200}).to(p.querySelector(".modal-vertical-content-inner"),{clipPath:"inset(0% 0 0 0)",ease:n,duration:a},0).to(p.querySelector(".modal-v-img-c"),{autoAlpha:1,ease:n,duration:a},window.innerWidth<768?.2:0).to(p.querySelectorAll(".modal-vertical-content-inner .line"),{yPercent:0,ease:n,duration:a,stagger:.02},.2).to(p.querySelector(".modal-backdrop"),{autoAlpha:1,ease:n,duration:a},0).to(p.querySelector(".modal-close-btn"),{yPercent:0,rotate:0,autoAlpha:1,ease:n},.5))})}),t.forEach(l=>{l.addEventListener("click",()=>{const o=l.closest(".w-dyn-item");if(!o)return;const d=o.querySelector(".modal-vertical-container");d&&(u==null||u.kill(),A(),c=gsap.timeline({defaults:{duration:a,ease:n}}).set(d,{pointerEvents:"none"}).to(d.querySelector(".modal-vertical-content-inner"),{clipPath:"inset(100% 0 0 0)",ease:n,duration:a},0).to(d.querySelector(".modal-backdrop"),{autoAlpha:0,ease:n,duration:a},0).to(d.querySelector(".modal-close-btn"),{rotate:90,autoAlpha:0,ease:n},0))})}),document.addEventListener("keydown",l=>{if(l.key==="Escape"){const o=e.querySelector('.modal-vertical-container[style*="pointer-events: auto"]');if(o){const d=o.querySelector(".modal-close-btn");d&&d.click()}}})}function z(){let e=document.querySelectorAll(".page-wrapper")[0];if(!e.querySelector(".modal-horizontal-container"))return;const i=e.querySelectorAll("[data-modal-horizontal-open]"),t=e.querySelectorAll("[data-modal-horizontal-close]");e.querySelectorAll(".modal-h-big-title").forEach(c=>{if(c){const o=c.textContent.trim().match(/.*?[.!?](\s|$)/);o&&(c.textContent=o[0].trim())}}),e.querySelectorAll(".modal-horizontal-container").forEach((c,l)=>{const o=`(${String(l+1).padStart(2,"0")})`;c.querySelector(".modal-h-number").textContent=o});let n,u;i.forEach(c=>{c.addEventListener("click",()=>{const l=c.closest(".w-dyn-item");if(!l)return;const o=l.querySelector(".modal-horizontal-container");o&&(o.querySelector(".modal-h-scroll-wrapper").scrollTop=0,u==null||u.kill(),n=gsap.timeline({defaults:{duration:1.2,ease:"easeOutQuart"}}).set(o,{autoAlpha:1,pointerEvents:"auto"}).set(o.querySelector(".modal-horizontal-content-inner"),{clipPath:"inset(0% 0% 0% 100%)"}).set(o.querySelector(".modal-backdrop"),{autoAlpha:0}).set(o.querySelectorAll(".modal-horizontal-content-inner .line"),{yPercent:101}).set(o.querySelector(".modal-h-img-wrapper"),{autoAlpha:0}).set(o.querySelector(".decoration-line"),{scaleX:0,transformOrigin:"right center"}).set(o.querySelector(".modal-close-btn"),{rotate:90,autoAlpha:0,xPercent:200,yPercent:-50}).to(o.querySelector(".modal-horizontal-content-inner"),{clipPath:"inset(0% 0% 0% 0%)",duration:.7},0).to(o.querySelector(".modal-h-img-wrapper"),{autoAlpha:1},.2).to(o.querySelectorAll(".modal-horizontal-content-inner .line"),{yPercent:0,stagger:.03},.3).to(o.querySelector(".modal-backdrop"),{autoAlpha:1},0).to(o.querySelector(".modal-close-btn"),{xPercent:0,rotate:0,autoAlpha:1,duration:.7},.5).to(o.querySelector(".decoration-line"),{scaleX:1},.2))})}),t.forEach(c=>{c.addEventListener("click",()=>{const l=c.closest(".w-dyn-item");if(!l)return;const o=l.querySelector(".modal-horizontal-container");o&&(n==null||n.kill(),u=gsap.timeline({defaults:{duration:1,ease:"easeOutQuart"}}).set(o,{pointerEvents:"none"}).to(o.querySelector(".modal-horizontal-content-inner"),{clipPath:"inset(0% 0% 0% 100%)"},0).to(o.querySelector(".modal-backdrop"),{autoAlpha:0},0).to(o.querySelector(".modal-close-btn"),{rotate:90,autoAlpha:0,duration:.7},0))})}),document.addEventListener("keydown",c=>{if(c.key==="Escape"){const l=e.querySelector('.modal-horizontal-container[style*="pointer-events: auto"]');if(l){const o=l.querySelector(".modal-close-btn");o&&o.click()}}})}function B(){let e=document.querySelectorAll(".page-wrapper")[0];e.querySelector(".header-logo")&&ScrollTrigger.create({trigger:e.querySelector(".section"),start:"top+=50 top",onLeaveBack:()=>{gsap.to(e.querySelector(".header-logo"),{scale:1,ease:"easeOutQuad",duration:.7})},onEnter:()=>{gsap.to(e.querySelector(".header-logo"),{scale:.6,transformOrigin:"top left",ease:"easeOutQuad",duration:.7})}})}function M(){let e=document.querySelectorAll(".page-wrapper")[0];const i=e.querySelector("[data-nav-bar-height]"),t=i?i.offsetHeight/2:50;function r(){e.querySelectorAll("[data-theme-section]").forEach(function(u){const c=u.getBoundingClientRect(),l=c.top,o=c.bottom;if(l<=t&&o>=t){const d=u.getAttribute("data-theme-section");e.getAttribute("data-theme-nav")!==d&&e.setAttribute("data-theme-nav",d)}})}function a(){e.addEventListener("scroll",r)}r(),a()}function H(){let e=document.querySelectorAll(".page-wrapper")[0];if(!e.querySelector(".button-standort"))return;const i=e.querySelectorAll(".button-standort");if(i.length==0)return;const t=e.querySelector(".button-standort"),r=e.querySelectorAll(".button-anreise");let a=e.querySelector(".button-standort-list"),n=a.querySelector(".progress-nav__indicator");n||(n=document.createElement("div"),n.className="progress-nav__indicator",a.appendChild(n)),u(t);function u(l){let o=a.offsetWidth,d=a.offsetHeight,p=a.getBoundingClientRect(),h=l.getBoundingClientRect(),m={left:h.left-p.left,top:h.top-p.top},f=l.offsetWidth,S=l.offsetHeight,w=m.left/o*100,y=m.top/d*100,g=f/o*100,q=S/d*100;n.style.left=w+"%",n.style.top=y+"%",n.style.width=g+"%",n.style.height=q+"%"}r.forEach(l=>{l.addEventListener("click",()=>{l.parentElement.classList.toggle("active")})}),t&&t.classList.add("active"),e.querySelectorAll("[data-location]:first-child").forEach(l=>{l.classList.add("active")}),i.forEach(l=>{l.addEventListener("click",()=>{const o=l.innerHTML;l.classList.contains("active")||(e.querySelectorAll(".button-standort").forEach(d=>{d.classList.remove("active")}),u(l),l.classList.add("active"),r.forEach(d=>{d.parentElement.classList.remove("active")}),gsap.set(`[data-location="${o}"]`,{clipPath:"inset(0% 100% 0% 0%)"}),gsap.set("[data-location].active",{clipPath:"inset(0% 0% 0% 0%)"}),gsap.fromTo("[data-location].active",{clipPath:"inset(0% 0% 0% 0%)"},{clipPath:"inset(0% 0% 0% 100%)",ease:"easeOutQuart",duration:1}),gsap.fromTo(`[data-location="${o}"]`,{clipPath:"inset(0% 100% 0% 0%)"},{clipPath:"inset(0% 0% 0% 0%)",ease:"easeOutQuart",duration:1}),e.querySelectorAll("[data-location]").forEach(d=>{d.classList.remove("active")}),e.querySelectorAll(`[data-location="${o}"`).forEach(d=>{d.classList.add("active")}))})})}function N(s,e){let t=document.querySelectorAll(".page-wrapper")[0];const r=gsap.timeline({defaults:{duration:1.2,ease:"easeOutQuart"}});r.from(t.querySelectorAll(".section.hero-section h1 .line, .section.hero-section .hero-lower-wrapper-inner .line, .container.is--kontakt .line, .container.is--natur .line, .section.is--legal .line"),{yPercent:100,delay:s,stagger:.05},.6).from(t.querySelectorAll(".section.hero-section .hero-section-img"),{scale:1.1,duration:2.5,ease:"easeInOutQuart",delay:s-.5},0).from(t.querySelectorAll(".section.hero-section .kontakt-row"),{opacity:0,y:50,delay:s,stagger:.15},.5).from(t.querySelector(".section.hero-section .hero-section-small-img"),{scale:1.1,ease:"easeInOutQuart",delay:s-.3,duration:2},0).from(t.querySelector(".section.hero-section .news-block"),{opacity:0,y:50,delay:s},.7),e&&r.from(t.querySelectorAll(".section.is--pricing .big-title-style .line"),{yPercent:100,delay:s,stagger:.15},.5),r.from(t.querySelectorAll(".section.is--pricing .pricing-right-wrapper > *"),{opacity:0,y:50,delay:s,stagger:.15},.6),r.from(t.querySelectorAll(".section.is--pricing .pricing-container img"),{scale:1.1,ease:"easeInOutQuart",duration:2,delay:s-.5},.2)}function D(){let e=document.querySelectorAll(".page-wrapper")[0];gsap.matchMedia().add("(min-width: 768px)",()=>{gsap.timeline({scrollTrigger:{trigger:e.querySelector(".container.is--hero"),start:"top top",end:"bottom top",scrub:0}}).to(e.querySelector('[data-anim="slow-down-scroll"]'),{yPercent:50,ease:"none"}).to(e.querySelectorAll('[data-anim="slow-down-scroll"] .container.is--hero h1, [data-anim="slow-down-scroll"] .hero-section-img'),{opacity:0,ease:"power1.in"},0)})}function $(s=0){document.querySelectorAll(".page-wrapper")[0].querySelectorAll('[data-anim="lines-up"]').forEach(r=>{gsap.from(r.querySelectorAll(".line"),{y:"100%",stagger:.05,duration:1.2,ease:"easeOutQuart",scrollTrigger:{trigger:r,start:"top 85%"}})})}function W(){let s=gsap.matchMedia();gsap.set(".preload-inner svg",{overflow:"visible"});const e=gsap.timeline({defaults:{duration:1.8,ease:"easeOutQuart"}});e.from(".preloader-line1",{transformOrigin:"bottom",scaleY:0,delay:.2}).fromTo(".preload-inner svg path",{x:-90},{x:40,stagger:.04},"<=+.2").fromTo(".preloader-text-wrapper span",{x:135},{x:-24,stagger:.05},.2),s.add("(min-width: 768px)",()=>{e.to(".preload-svg-wrapper > *",{y:-100,duration:1.1,ease:"easeInOutQuart"},"<=+1.8")}),s.add("(max-width: 767px)",()=>{e.to(".preload-svg-wrapper > *",{y:-100,duration:1.1,ease:"easeInOutQuart"},"<=+2")}),setTimeout(()=>{document.body.setAttribute("data-loaded","true")},1700)}function R(){let e=document.querySelectorAll(".page-wrapper")[0];const i=e.querySelectorAll('[data-img="lazy"]');i.forEach(t=>{t.dataset.src=t.src,t.dataset.srcset=t.srcset,t.removeAttribute("src"),t.removeAttribute("srcset"),t.removeAttribute("loading")}),new LazyLoad({container:e,threshold:800},i)}function E(s,e){gsap.set("body",{autoAlpha:1}),W(),A(),gsap.matchMedia().add("(min-width: 768px)",()=>{x()}),L(),P(),k(),O(),B(),M(),H(),Q(),z(),D(),I(),R(),document.fonts.ready.then(()=>{C(),$(s),N(s,e)})}document.addEventListener("DOMContentLoaded",()=>{gsap.registerPlugin(ScrollTrigger,CustomEase),ScrollTrigger.defaults({scroller:"#swup"}),CustomEase.create("easeOutQuad","0.25,0.46,0.45,0.94"),CustomEase.create("easeOutQuart",".165, .84, .44, 1"),CustomEase.create("easeInOutQuad",".455, .03, .515, .955"),CustomEase.create("easeInOutQuart",".77, 0, .175, 1"),CustomEase.create("easeInOutQuint",".86, 0, .07, 1"),CustomEase.create("wshanim",".85, 0, 0.03, 1");const s=new Swup({plugins:[new SwupParallelPlugin,new SwupPreloadPlugin],animateHistoryBrowsing:!0});E(2.4),s.hooks.on("page:view",e=>{E(.75,e.to.hash)}),s.hooks.on("link:self",e=>{window.lenis.scrollTo(0,{duration:3,ease:"easeOutQuad"})})});
